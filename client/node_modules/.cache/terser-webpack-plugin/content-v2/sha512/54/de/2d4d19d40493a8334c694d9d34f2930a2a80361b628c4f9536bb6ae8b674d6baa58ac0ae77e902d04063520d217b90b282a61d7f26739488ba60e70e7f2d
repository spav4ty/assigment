{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{143:function(e,t,n){\"use strict\";n.r(t);var r,a,c,s,i,o,u,l,j=n(0),d=n(91),b=n(142),h=n(26),O=n(39),p=n.n(O),f=n(144),x=n(68),v=n(32),m=n(96),g=n(97),k=n(153),w=n.n(k),C=function(){return new h.ApolloLink((function(e,t){return new p.a((function(n){var r;return Promise.resolve(e).then((function(e){return function(e,t){var n=localStorage.getItem(\"token\");e.setContext({headers:{authorization:n}})}(e)})).then((function(){r=t(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)})})).catch(n.error.bind(n)),function(){r&&r.unsubscribe()}}))}))},I=n(27),y=\"SET_AUTH_USER\",S=\"CLEAR_AUTH_USER\",U={user:null},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(I.a)(Object(I.a)({},e),{},{user:t.payload});case S:return Object(I.a)(Object(I.a)({},e),U);default:return e}},L=n(2),A=Object(j.createContext)(),N={auth:U},$=function(e,t){return{auth:E(e.auth,t)}},B=function(e){var t=e.children;return Object(L.jsx)(A.Provider,{value:Object(j.useReducer)($,N),children:t})},D=\"http://localhost:4000/graphql\",G=(n(135),n(159)),P=n(42),_=n(15),q=n(30),R=n(36),T=Object(R.a)(r||(r=Object(q.a)([\"\\nquery { \\n  allUsers {\\n    id\\n    name\\n    email\\n    password\\n    isOnline\\n    lastLoginAt\\n    createdAt\\n    active\\n  }\\n}\\n\"]))),Q=Object(R.a)(a||(a=Object(q.a)([\"\\n  query {\\n    getAuthUser {\\n      id\\n      name\\n      email\\n      createdAt\\n      lastLoginAt\\n      isOnline\\n      }\\n    }\\n\"]))),z=Object(R.a)(c||(c=Object(q.a)([\"\\n    mutation SIGNIN($email: String!,$password: String! ){\\n      signin(email:$email, password: $password){\\n        token\\n      }\\n    }\\n\"]))),M=Object(R.a)(s||(s=Object(q.a)([\"\\n    mutation SIGNUP($userInput: UserInputData ){\\n      signup(userInput: $userInput){\\n        token\\n      }\\n    }\\n\"]))),F=Object(R.a)(i||(i=Object(q.a)([\"\\n  mutation LOG_OUT($userId: String!){\\n    logout(userId: $userId){\\n      boolean\\n    }\\n  }\\n\"]))),H=Object(R.a)(o||(o=Object(q.a)([\"\\n  mutation DELETE_USERS($usersIds: [ID!]!){\\n    deleteUsers(usersIds: $usersIds){\\n      count\\n    }\\n  }\\n\"]))),J=Object(R.a)(u||(u=Object(q.a)([\"\\n  mutation BLOCK_USERS($usersIds: [ID!]!){\\n    blockUsers(usersIds: $usersIds){\\n      count\\n    }\\n  }\\n\"]))),K=Object(R.a)(l||(l=Object(q.a)([\"\\n  mutation UNBLOCK_USERS($usersIds: [ID!]!) {\\n    unBlockUsers(usersIds: $usersIds){\\n      count\\n    }\\n  }\\n  \"]))),V=n(17),W=n.n(V),X=n(24),Y=n(16),Z=n(162),ee=n(158),te=n(160),ne=n(35);function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(j.useState)(e),n=Object(Y.a)(t,2),r=n[0],a=n[1],c=Object.values(e).join(\"\");function s(e){var t=e.target,n=t.value,c=t.name,s=t.type;(\"number\"===s&&(n=parseInt(n)),\"file\"===s)&&(n=Object(Y.a)(e.target.files,1)[0]);a(Object(I.a)(Object(I.a)({},r),{},Object(ne.a)({},c,n)))}return Object(j.useEffect)((function(){a(e)}),[c]),{inputs:r,handleChange:s}}var ae=Object(_.f)((function(e){var t=e.history,n=e.refetch,r=Object(j.useState)(\"\"),a=Object(Y.a)(r,2),c=(a[0],a[1]),s=re({email:\"\",name:\"\",password:\"\"}),i=s.inputs,o=s.handleChange,u=Object(Z.a)(M),l=Object(Y.a)(u,2),d=l[0],b=(l[1].loading,function(){var e=Object(X.a)(W.a.mark((function e(r){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,d({variables:{userInput:i},refetchQueries:[{query:T}]});case 4:return a=e.sent,localStorage.setItem(\"token\",a.data.signup.token),e.next=8,n();case 8:t.push(\"/\"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),c(e.t0.graphQLErrors[0].message);case 14:case\"end\":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}());return Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(ee.a,{onSubmit:b,children:[Object(L.jsxs)(ee.a.Group,{children:[Object(L.jsx)(ee.a.Label,{children:\"E-Mail\"}),Object(L.jsx)(ee.a.Control,{name:\"email\",type:\"text\",value:i.email,placeholder:\"email\",onChange:o})]}),Object(L.jsxs)(ee.a.Group,{children:[Object(L.jsx)(ee.a.Label,{children:\"Name\"}),Object(L.jsx)(ee.a.Control,{name:\"name\",type:\"text\",value:i.name,placeholder:\"name\",onChange:o})]}),Object(L.jsxs)(ee.a.Group,{controlId:\"formBasicPassword\",children:[Object(L.jsx)(ee.a.Label,{children:\"Password\"}),Object(L.jsx)(ee.a.Control,{type:\"password\",name:\"password\",value:i.password,placeholder:\"\\u041f\\u0430\\u0440\\u043e\\u043b\\u044c\",onChange:o})]}),Object(L.jsx)(te.a,{variant:\"primary\",type:\"submit\",children:\"Sign Up\"})]})})})),ce=Object(_.f)((function(e){var t=e.history,n=e.location,r=e.refetch,a=re({email:\"\",password:\"\"}),c=a.inputs,s=a.handleChange,i=Object(j.useState)(\"\"),o=Object(Y.a)(i,2),u=(o[0],o[1]),l=Object(Z.a)(z),d=Object(Y.a)(l,2),b=d[0];d[1].loading;Object(j.useEffect)((function(){u(\"\")}),[n.pathname]);var h=function(){var e=Object(X.a)(W.a.mark((function e(n){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,b({variables:{email:O,password:p},refetchQueries:[{query:T}]});case 4:return a=e.sent,localStorage.setItem(\"token\",a.data.signin.token),e.next=8,r();case 8:t.push(\"/\"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),u(e.t0.graphQLErrors[0].message);case 14:case\"end\":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),O=c.email,p=c.password;return Object(L.jsxs)(ee.a,{onSubmit:h,children:[Object(L.jsxs)(ee.a.Group,{children:[Object(L.jsx)(ee.a.Label,{children:\"E-Mail\"}),Object(L.jsx)(ee.a.Control,{name:\"email\",type:\"text\",value:O,placeholder:\"email\",onChange:s})]}),Object(L.jsxs)(ee.a.Group,{controlId:\"formBasicPassword\",children:[Object(L.jsx)(ee.a.Label,{children:\"Password\"}),Object(L.jsx)(ee.a.Control,{type:\"password\",name:\"password\",value:p,placeholder:\"password\",onChange:s})]}),Object(L.jsx)(te.a,{variant:\"primary\",type:\"submit\",children:\"Sign In\"})]})})),se=n(154),ie=n(155),oe=function(e){var t=e.refetch;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(se.a,{children:Object(L.jsxs)(ie.a,{className:\"justify-content-between gap-10 align-items-center vh-100\",children:[Object(L.jsx)(ce,{refetch:t}),Object(L.jsx)(ae,{refetch:t})]})})})},ue=n(156),le=n(157),je=n(100);var de=function(e){var t=e.type,n=void 0===t?\"checkbox\":t,r=e.name,a=e.checked,c=void 0!==a&&a,s=e.onChange;return Object(L.jsx)(\"input\",{type:n,name:r,checked:c,onChange:s})};function be(e){var t=new Date(+e);return t=t.toString().split(\" \"),\"\".concat(t[2],\" \").concat(t[1],\" \").concat(t[3],\" \").concat(t[4])}function he(e){return Object.keys(Object.fromEntries(Object.entries(e).filter((function(e){var t=Object(Y.a)(e,2);t[0];return!1!==t[1]}))))}var Oe=function(e){var t=e.data,n=e.refetchUser,r=e.refetchAllUsers,a=Object(j.useState)([]),c=Object(Y.a)(a,2),s=c[0],i=c[1],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(j.useState)({}),n=Object(Y.a)(t,2),r=n[0],a=n[1];function c(e){var t=e.target,n=t.name,c=t.checked;a(Object(I.a)(Object(I.a)({},r),{},Object(ne.a)({},n,c)))}function s(e){var t=Object.fromEntries(Object.entries(r).map((function(t){var n=Object(Y.a)(t,2),r=n[0];return n[1],[r,e]})));a(t)}function i(){s(!0)}function o(){s(!1)}return Object(j.useEffect)((function(){a((function(){return Object.assign.apply(Object,[{}].concat(Object(je.a)(e.map((function(e,t){return Object(ne.a)({},e.id,!1)})))))}))}),[e]),{checkeds:r,handleChange:c,handleChangeAll:i,handleChangeNo:o}}(s),u=o.checkeds,l=o.handleChange,d=o.handleChangeAll,b=o.handleChangeNo,h=Object(Z.a)(H),O=Object(Y.a)(h,2),p=O[0],f=O[1],x=(f.loading,f.error,Object(Z.a)(J)),v=Object(Y.a)(x,2),m=v[0],g=v[1],k=(g.loading,g.error,Object(Z.a)(K)),w=Object(Y.a)(k,2),C=w[0],y=w[1],S=(y.loading,y.error,function(){var e=Object(X.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=he(u),e.next=4,m({variables:{usersIds:t}});case 4:return e.next=6,n();case 6:return e.next=8,r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()),U=function(){var e=Object(X.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=he(u),e.next=4,C({variables:{usersIds:t}});case 4:return e.next=6,n();case 6:return e.next=8,r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(X.a)(W.a.mark((function e(){var t;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=he(u),e.next=4,p({variables:{usersIds:t}});case 4:return e.next=6,n();case 6:return e.next=8,r();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(X.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r();case 3:return e.next=5,n();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case\"end\":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(j.useEffect)(Object(X.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(t),e.next=3,r();case 3:case\"end\":return e.stop()}}),e)}))),[t]),Object(L.jsxs)(se.a,{children:[Object(L.jsx)(ie.a,{className:\"justify-content-center\",children:Object(L.jsxs)(ue.a,{children:[Object(L.jsx)(te.a,{onClick:S,children:\"Block\"}),Object(L.jsx)(te.a,{onClick:U,children:\"UnBlock\"}),Object(L.jsx)(te.a,{variant:\"danger\",onClick:E,children:\"Delete\"}),Object(L.jsx)(te.a,{variant:\"success\",onClick:A,children:\"UpdateUsers\"})]})}),Object(L.jsxs)(le.a,{striped:!0,bordered:!0,hover:!0,children:[Object(L.jsx)(\"thead\",{children:Object(L.jsxs)(\"tr\",{children:[Object(L.jsx)(\"th\",{children:Object(L.jsxs)(ue.a,{size:\"sm\",children:[Object(L.jsx)(te.a,{onClick:d,children:\"All\"}),Object(L.jsx)(te.a,{onClick:b,children:\"No\"})]})}),Object(L.jsx)(\"th\",{children:\"Id\"}),Object(L.jsx)(\"th\",{children:\"Name\"}),Object(L.jsx)(\"th\",{children:\"Email\"}),Object(L.jsx)(\"th\",{children:\"Date\"}),Object(L.jsx)(\"th\",{children:\"Last Login\"}),Object(L.jsx)(\"th\",{children:\"Online Offline\"}),Object(L.jsx)(\"th\",{children:\"Status Block\"})]})}),Object(L.jsx)(\"tbody\",{children:s.map((function(e,t){return Object(L.jsxs)(\"tr\",{children:[Object(L.jsx)(\"td\",{children:Object(L.jsx)(de,{name:e.id,checked:u[e.id],onChange:l})}),Object(L.jsx)(\"td\",{children:e.id}),Object(L.jsx)(\"td\",{children:e.name}),Object(L.jsx)(\"td\",{children:e.email}),Object(L.jsx)(\"td\",{children:be(e.createdAt)}),Object(L.jsx)(\"td\",{children:be(e.lastLoginAt)}),Object(L.jsx)(\"td\",{children:!0===e.isOnline?\"Online\":\"Offline\"}),Object(L.jsx)(\"td\",{children:!0===e.active?\"Not Blocked\":\"Blocked\"})]},e.id)}))})]})]})},pe=Object(_.f)((function(e){e.location;var t,n=e.authUser,r=e.refetch,a=Object(j.useContext)(A),c=Object(Y.a)(a,2),s=c[0].auth,i=c[1];Object(j.useEffect)((function(){i({type:y,payload:n})}),[i,n]);var o=Object(G.a)(T),u=o.data,l=o.loading,d=(o.error,o.refetch),b=u?null===u||void 0===u?void 0:u.allUsers:[],h=null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.id,O=Object(Z.a)(F),p=Object(Y.a)(O,2),f=p[0],x=(p[1].loading,function(){var e=Object(X.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.removeItem(\"token\"),e.next=3,f({variables:{userId:h}});case 3:return e.next=5,r();case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return s.user?l?Object(L.jsx)(\"div\",{children:\"Loading...\"}):Object(L.jsxs)(se.a,{className:\"vh-100\",children:[Object(L.jsx)(te.a,{variant:\"danger\",onClick:x,children:\"Log Out\"}),u&&Object(L.jsx)(Oe,{data:b,refetchUser:r,loadingAllUsers:l,refetchAllUsers:d})]}):null})),fe=function(){var e=Object(G.a)(Q),t=e.loading,n=e.data,r=e.error,a=e.refetch;return t?Object(L.jsx)(\"div\",{children:\"Loading...\"}):r?Object(L.jsx)(\"div\",{children:r}):Object(L.jsx)(P.a,{children:Object(L.jsx)(_.c,{children:n.getAuthUser?Object(L.jsx)(_.a,{exact:!0,render:function(){return Object(L.jsx)(pe,{authUser:n.getAuthUser,refetch:a})}}):Object(L.jsx)(_.a,{exact:!0,render:function(){return Object(L.jsx)(oe,{refetch:a})}})})})},xe=function(e,t){var n=new f.a,r=Object(m.a)((function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map((function(e){var t=e.message,n=e.locations,r=e.path;return console.log(\"[GraphQL error]: Message: \".concat(t,\", Location: \").concat(n,\", Path: \").concat(r))})),n&&console.log(\"[Network error]: \".concat(n))})),a=C(),c=w()({uri:e}),s=localStorage.getItem(\"token\"),i=new g.a({uri:t,options:{timeout:6e4,reconnect:!0,connectionParams:{authorization:s}}});i.subscriptionClient.maxConnectTimeGenerator.duration=function(){return i.subscriptionClient.maxConnectTimeGenerator.max};var o=Object(h.split)((function(e){var t=e.query,n=Object(v.e)(t),r=n.kind,a=n.operation;return\"OperationDefinition\"===r&&\"subscription\"===a}),i,c);return new x.a({link:h.ApolloLink.from([r,a,o]),cache:n})}(\"http://localhost:4000/graphql\",D.replace(\"http://\",\"ws://\"));Object(d.render)(Object(L.jsx)(b.a,{client:xe,children:Object(L.jsx)(B,{children:Object(L.jsx)(fe,{})})}),document.getElementById(\"root\"))}},[[143,1,2]]]);","name":"static/js/main.d80618ee.chunk.js","map":{"version":3,"sources":["static/js/main.d80618ee.chunk.js"],"names":["this","push","143","module","__webpack_exports__","__webpack_require__","r","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","react","react_dom","ApolloProvider","client","zen_observable","zen_observable_default","n","inMemoryCache","ApolloClient","getFromAST","link_error","ws","createUploadLink","createUploadLink_default","apollo_client_createAuthLink","operation","forward","a","observer","handle","Promise","resolve","then","oper","token","localStorage","getItem","setContext","headers","authorization","request","subscribe","next","bind","error","complete","catch","unsubscribe","objectSpread2","SET_AUTH_USER","CLEAR_AUTH_USER","authInitialState","user","auth_authReducer","state","arguments","length","undefined","action","type","Object","payload","jsx_runtime","StoreContext","store_store","auth","store_reducers","store","store_StoreProvider","_ref","children","Provider","value","endpoint","useQuery","react_router_dom","react_router","taggedTemplateLiteral","lib","GET_ALL_USERS","GET_AUTH_USER","SIGN_IN","SIGN_UP","LOG_OUT","DELETE_USERS","BLOCK_USERS","UNBLOCK_USERS","regenerator","regenerator_default","asyncToGenerator","slicedToArray","useMutation","Form","Button","defineProperty","useForm","initial","_useState","_useState2","inputs","setInputs","initialValue","values","join","handleChange","e","_e$target","target","name","parseInt","files","Auth_SignUp","history","refetch","setError","_useForm","email","password","_useMutation","_useMutation2","signup","handleSubmit","loading","_ref2","mark","_callee","response","wrap","_context","prev","preventDefault","variables","userInput","refetchQueries","query","sent","setItem","data","t0","graphQLErrors","message","stop","_x","apply","onSubmit","Group","Label","Control","placeholder","onChange","controlId","variant","Auth_SignIn","location","signin","pathname","handleSubmitSignIn","Container","Row","pages_AuthLayout","className","ButtonGroup","Table","toConsumableArray","Checkbox_Checkbox","_ref$type","_ref$checked","checked","conversionDate","date","Date","toString","split","concat","keyId","checkeds","keys","fromEntries","entries","filter","Table_TableUsers","_ref3","refetchUser","refetchAllUsers","users","setUsers","_useCheckbox","setChecked","handler","boolean","change","map","key","handleChangeAll","handleChangeNo","assign","i","id","useCheckbox","deleteUsers","_useMutation2$","_useMutation3","_useMutation4","blockUsers","_useMutation4$","_useMutation5","_useMutation6","unBlockUsers","_useMutation6$","handlerBlock","_ref4","blockId","usersIds","console","log","handlerUnBlock","_ref5","_callee2","unBlockId","_context2","handlerDelete","_ref6","_callee3","deleteId","_context3","handlerRefetch","_ref7","_callee4","_context4","_callee5","_context5","onClick","striped","bordered","hover","size","u","createdAt","lastLoginAt","isOnline","active","pages_AppLayout","_auth$user","authUser","_useStore","_useStore2","dispatch","_useQuery","allUsers","userId","logout","handlerLogOut","window","removeItem","loadingAllUsers","src_App","getAuthUser","exact","render","apolloClient","apiUrl","websocketApiUrl","cache","errorLink","networkError","locations","path","authLink","uploadLink","uri","authToken","wsLink","options","timeout","reconnect","connectionParams","subscriptionClient","maxConnectTimeGenerator","duration","max","terminatingLink","_getMainDefinition","kind","link","from","apollo_client_createApolloClient","replace","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 143:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(91);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(142);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(26);\n\n// EXTERNAL MODULE: ./node_modules/zen-observable/index.js\nvar zen_observable = __webpack_require__(39);\nvar zen_observable_default = /*#__PURE__*/__webpack_require__.n(zen_observable);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 4 modules\nvar inMemoryCache = __webpack_require__(144);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 7 modules\nvar ApolloClient = __webpack_require__(68);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/utilities/graphql/getFromAST.js\nvar getFromAST = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/error/index.js\nvar link_error = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/ws/index.js\nvar ws = __webpack_require__(97);\n\n// EXTERNAL MODULE: ./node_modules/apollo-upload-client/public/createUploadLink.js\nvar createUploadLink = __webpack_require__(153);\nvar createUploadLink_default = /*#__PURE__*/__webpack_require__.n(createUploadLink);\n\n// CONCATENATED MODULE: ./src/utils/apollo-client.js\nvar apollo_client_createAuthLink=function createAuthLink(){var request=function request(operation,forward){var token=localStorage.getItem('token');operation.setContext({headers:{authorization:token}});};return new client[\"ApolloLink\"](function(operation,forward){return new zen_observable_default.a(function(observer){var handle;Promise.resolve(operation).then(function(oper){return request(oper);}).then(function(){handle=forward(operation).subscribe({next:observer.next.bind(observer),error:observer.error.bind(observer),complete:observer.complete.bind(observer)});}).catch(observer.error.bind(observer));return function(){if(handle)handle.unsubscribe();};});});};var apollo_client_handleErrors=function handleErrors(){return Object(link_error[\"a\" /* onError */])(function(_ref){var graphQLErrors=_ref.graphQLErrors,networkError=_ref.networkError;if(graphQLErrors){graphQLErrors.map(function(_ref2){var message=_ref2.message,locations=_ref2.locations,path=_ref2.path;return console.log(\"[GraphQL error]: Message: \".concat(message,\", Location: \").concat(locations,\", Path: \").concat(path));});}if(networkError){console.log(\"[Network error]: \".concat(networkError));}});};var apollo_client_createApolloClient=function createApolloClient(apiUrl,websocketApiUrl){var cache=new inMemoryCache[\"a\" /* InMemoryCache */]();var errorLink=apollo_client_handleErrors();var authLink=apollo_client_createAuthLink();var uploadLink=createUploadLink_default()({uri:apiUrl});var authToken=localStorage.getItem('token');var wsLink=new ws[\"a\" /* WebSocketLink */]({uri:websocketApiUrl,options:{timeout:60000,reconnect:true,connectionParams:{authorization:authToken}}});wsLink.subscriptionClient.maxConnectTimeGenerator.duration=function(){return wsLink.subscriptionClient.maxConnectTimeGenerator.max;};var terminatingLink=Object(client[\"split\"])(function(_ref3){var query=_ref3.query;var _getMainDefinition=Object(getFromAST[\"e\" /* getMainDefinition */])(query),kind=_getMainDefinition.kind,operation=_getMainDefinition.operation;return kind==='OperationDefinition'&&operation==='subscription';},wsLink,uploadLink);return new ApolloClient[\"a\" /* ApolloClient */]({link:client[\"ApolloLink\"].from([errorLink,authLink,terminatingLink]),cache:cache});};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/store/auth.js\nvar SET_AUTH_USER='SET_AUTH_USER';var CLEAR_AUTH_USER='CLEAR_AUTH_USER';var authInitialState={user:null};var auth_authReducer=function authReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:authInitialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case SET_AUTH_USER:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{user:action.payload});case CLEAR_AUTH_USER:{return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),authInitialState);}default:return state;}};\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/store/store.js\nvar StoreContext=/*#__PURE__*/Object(react[\"createContext\"])();var store_store={auth:authInitialState};var store_reducers=function reducers(store,action){return{auth:auth_authReducer(store.auth,action)};};var store_StoreProvider=function StoreProvider(_ref){var children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StoreContext.Provider,{value:Object(react[\"useReducer\"])(store_reducers,store_store),children:children});};var store_useStore=function useStore(){return Object(react[\"useContext\"])(StoreContext);};\n// CONCATENATED MODULE: ./src/config.js\nvar endpoint=\"http://localhost:4000/graphql\";\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(135);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js + 3 modules\nvar useQuery = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(42);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 14 modules\nvar lib = __webpack_require__(36);\n\n// CONCATENATED MODULE: ./src/utils/graphql.js\nvar _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;var GET_ALL_USERS=Object(lib[\"a\" /* default */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\nquery { \\n  allUsers {\\n    id\\n    name\\n    email\\n    password\\n    isOnline\\n    lastLoginAt\\n    createdAt\\n    active\\n  }\\n}\\n\"])));var GET_AUTH_USER=Object(lib[\"a\" /* default */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query {\\n    getAuthUser {\\n      id\\n      name\\n      email\\n      createdAt\\n      lastLoginAt\\n      isOnline\\n      }\\n    }\\n\"])));var SIGN_IN=Object(lib[\"a\" /* default */])(_templateObject3||(_templateObject3=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation SIGNIN($email: String!,$password: String! ){\\n      signin(email:$email, password: $password){\\n        token\\n      }\\n    }\\n\"])));var SIGN_UP=Object(lib[\"a\" /* default */])(_templateObject4||(_templateObject4=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    mutation SIGNUP($userInput: UserInputData ){\\n      signup(userInput: $userInput){\\n        token\\n      }\\n    }\\n\"])));var LOG_OUT=Object(lib[\"a\" /* default */])(_templateObject5||(_templateObject5=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation LOG_OUT($userId: String!){\\n    logout(userId: $userId){\\n      boolean\\n    }\\n  }\\n\"])));var DELETE_USERS=Object(lib[\"a\" /* default */])(_templateObject6||(_templateObject6=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation DELETE_USERS($usersIds: [ID!]!){\\n    deleteUsers(usersIds: $usersIds){\\n      count\\n    }\\n  }\\n\"])));var BLOCK_USERS=Object(lib[\"a\" /* default */])(_templateObject7||(_templateObject7=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation BLOCK_USERS($usersIds: [ID!]!){\\n    blockUsers(usersIds: $usersIds){\\n      count\\n    }\\n  }\\n\"])));var UNBLOCK_USERS=Object(lib[\"a\" /* default */])(_templateObject8||(_templateObject8=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation UNBLOCK_USERS($usersIds: [ID!]!) {\\n    unBlockUsers(usersIds: $usersIds){\\n      count\\n    }\\n  }\\n  \"])));\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(17);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(24);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js + 1 modules\nvar useMutation = __webpack_require__(162);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 16 modules\nvar Form = __webpack_require__(158);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js + 2 modules\nvar Button = __webpack_require__(160);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(35);\n\n// CONCATENATED MODULE: ./src/hooks/useForm.js\nfunction useForm(){var initial=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _useState=Object(react[\"useState\"])(initial),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),inputs=_useState2[0],setInputs=_useState2[1];var initialValue=Object.values(initial).join('');Object(react[\"useEffect\"])(function(){setInputs(initial);},[initialValue]);function handleChange(e){var _e$target=e.target,value=_e$target.value,name=_e$target.name,type=_e$target.type;if(type==='number'){value=parseInt(value);}if(type==='file'){var _e$target$files=Object(slicedToArray[\"a\" /* default */])(e.target.files,1);value=_e$target$files[0];}setInputs(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},inputs),{},Object(defineProperty[\"a\" /* default */])({},name,value)));}return{inputs:inputs,handleChange:handleChange};}\n// CONCATENATED MODULE: ./src/pages/Auth/SignUp.js\nvar SignUp_SignUp=function SignUp(_ref){var history=_ref.history,refetch=_ref.refetch;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useForm=useForm({email:'',name:'',password:''}),inputs=_useForm.inputs,handleChange=_useForm.handleChange;var _useMutation=Object(useMutation[\"a\" /* useMutation */])(SIGN_UP),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),signup=_useMutation2[0],loading=_useMutation2[1].loading;var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return signup({variables:{userInput:inputs},refetchQueries:[{query:GET_ALL_USERS}]});case 4:response=_context.sent;localStorage.setItem('token',response.data.signup.token);_context.next=8;return refetch();case 8:history.push('/');_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);setError(_context.t0.graphQLErrors[0].message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"E-Mail\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{name:\"email\",type:\"text\",value:inputs.email,placeholder:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{name:\"name\",type:\"text\",value:inputs.name,placeholder:\"name\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",name:\"password\",value:inputs.password,placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"primary\",type:\"submit\",children:\"Sign Up\"})]})});};/* harmony default export */ var Auth_SignUp = (Object(react_router[\"f\" /* withRouter */])(SignUp_SignUp));\n// CONCATENATED MODULE: ./src/pages/Auth/SignIn.js\nvar SignIn_SignIn=function SignIn(_ref){var history=_ref.history,location=_ref.location,refetch=_ref.refetch;var _useForm=useForm({email:'',password:''}),inputs=_useForm.inputs,handleChange=_useForm.handleChange;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),error=_useState2[0],setError=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(SIGN_IN),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),signin=_useMutation2[0],loading=_useMutation2[1].loading;Object(react[\"useEffect\"])(function(){setError('');},[location.pathname]);var handleSubmitSignIn=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(e){var response;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;_context.next=4;return signin({variables:{email:email,password:password},refetchQueries:[{query:GET_ALL_USERS}]});case 4:response=_context.sent;localStorage.setItem('token',response.data.signin.token);_context.next=8;return refetch();case 8:history.push('/');_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);setError(_context.t0.graphQLErrors[0].message);case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function handleSubmitSignIn(_x){return _ref2.apply(this,arguments);};}();var email=inputs.email,password=inputs.password;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:handleSubmitSignIn,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"E-Mail\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{name:\"email\",type:\"text\",value:email,placeholder:\"email\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"formBasicPassword\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",name:\"password\",value:password,placeholder:\"password\",onChange:handleChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"primary\",type:\"submit\",children:\"Sign In\"})]});};/* harmony default export */ var Auth_SignIn = (Object(react_router[\"f\" /* withRouter */])(SignIn_SignIn));\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Container.js\nvar Container = __webpack_require__(154);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Row.js\nvar Row = __webpack_require__(155);\n\n// CONCATENATED MODULE: ./src/pages/AuthLayout.js\nvar AuthLayout_AuthLayout=function AuthLayout(_ref){var refetch=_ref.refetch;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Row[\"a\" /* default */],{className:\"justify-content-between gap-10 align-items-center vh-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Auth_SignIn,{refetch:refetch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Auth_SignUp,{refetch:refetch})]})})});};/* harmony default export */ var pages_AuthLayout = (AuthLayout_AuthLayout);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/ButtonGroup.js\nvar ButtonGroup = __webpack_require__(156);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Table.js\nvar Table = __webpack_require__(157);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(100);\n\n// CONCATENATED MODULE: ./src/hooks/useCheckbox.js\nfunction useCheckbox(){var initial=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),checkeds=_useState2[0],setChecked=_useState2[1];Object(react[\"useEffect\"])(function(){setChecked(function(){return Object.assign.apply(Object,[{}].concat(Object(toConsumableArray[\"a\" /* default */])(initial.map(function(user,i){return Object(defineProperty[\"a\" /* default */])({},user.id,false);}))));});},[initial]);function handleChange(e){var _e$target=e.target,name=_e$target.name,checked=_e$target.checked;setChecked(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},checkeds),{},Object(defineProperty[\"a\" /* default */])({},name,checked)));}function handler(boolean){var change=Object.fromEntries(Object.entries(checkeds).map(function(_ref2){var _ref3=Object(slicedToArray[\"a\" /* default */])(_ref2,2),key=_ref3[0],value=_ref3[1];return[key,boolean];}));setChecked(change);}function handleChangeAll(){handler(true);}function handleChangeNo(){handler(false);}return{checkeds:checkeds,handleChange:handleChange,handleChangeAll:handleChangeAll,handleChangeNo:handleChangeNo};}\n// CONCATENATED MODULE: ./src/components/Checkbox.js\nvar Checkbox_Checkbox=function Checkbox(_ref){var _ref$type=_ref.type,type=_ref$type===void 0?'checkbox':_ref$type,name=_ref.name,_ref$checked=_ref.checked,checked=_ref$checked===void 0?false:_ref$checked,onChange=_ref.onChange;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:type,name:name,checked:checked,onChange:onChange});};\n// CONCATENATED MODULE: ./src/components/Table.js\nfunction conversionDate(data){var date=new Date(+data);date=date.toString().split(' ');return\"\".concat(date[2],\" \").concat(date[1],\" \").concat(date[3],\" \").concat(date[4]);}function keyId(checkeds){return Object.keys(Object.fromEntries(Object.entries(checkeds).filter(function(_ref){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),key=_ref2[0],value=_ref2[1];return value!==false;})));}var Table_TableUsers=function TableUsers(_ref3){var data=_ref3.data,refetchUser=_ref3.refetchUser,refetchAllUsers=_ref3.refetchAllUsers;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useCheckbox=useCheckbox(users),checkeds=_useCheckbox.checkeds,handleChange=_useCheckbox.handleChange,handleChangeAll=_useCheckbox.handleChangeAll,handleChangeNo=_useCheckbox.handleChangeNo;var _useMutation=Object(useMutation[\"a\" /* useMutation */])(DELETE_USERS),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),deleteUsers=_useMutation2[0],_useMutation2$=_useMutation2[1],loadingDelete=_useMutation2$.loading,errorDelete=_useMutation2$.error;var _useMutation3=Object(useMutation[\"a\" /* useMutation */])(BLOCK_USERS),_useMutation4=Object(slicedToArray[\"a\" /* default */])(_useMutation3,2),blockUsers=_useMutation4[0],_useMutation4$=_useMutation4[1],loadingBlock=_useMutation4$.loading,errorBlock=_useMutation4$.error;var _useMutation5=Object(useMutation[\"a\" /* useMutation */])(UNBLOCK_USERS),_useMutation6=Object(slicedToArray[\"a\" /* default */])(_useMutation5,2),unBlockUsers=_useMutation6[0],_useMutation6$=_useMutation6[1],loadingUnBlock=_useMutation6$.loading,errorUnBlock=_useMutation6$.error;var handlerBlock=/*#__PURE__*/function(){var _ref4=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var blockId;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;blockId=keyId(checkeds);_context.next=4;return blockUsers({variables:{usersIds:blockId}});case 4:_context.next=6;return refetchUser();case 6:_context.next=8;return refetchAllUsers();case 8:_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function handlerBlock(){return _ref4.apply(this,arguments);};}();var handlerUnBlock=/*#__PURE__*/function(){var _ref5=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var unBlockId;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;unBlockId=keyId(checkeds);_context2.next=4;return unBlockUsers({variables:{usersIds:unBlockId}});case 4:_context2.next=6;return refetchUser();case 6:_context2.next=8;return refetchAllUsers();case 8:_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function handlerUnBlock(){return _ref5.apply(this,arguments);};}();var handlerDelete=/*#__PURE__*/function(){var _ref6=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){var deleteId;return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;deleteId=keyId(checkeds);_context3.next=4;return deleteUsers({variables:{usersIds:deleteId}});case 4:_context3.next=6;return refetchUser();case 6:_context3.next=8;return refetchAllUsers();case 8:_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,10]]);}));return function handlerDelete(){return _ref6.apply(this,arguments);};}();var handlerRefetch=/*#__PURE__*/function(){var _ref7=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return refetchAllUsers();case 3:_context4.next=5;return refetchUser();case 5:_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function handlerRefetch(){return _ref7.apply(this,arguments);};}();Object(react[\"useEffect\"])(/*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setUsers(data);_context5.next=3;return refetchAllUsers();case 3:case\"end\":return _context5.stop();}}},_callee5);})),[data]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Row[\"a\" /* default */],{className:\"justify-content-center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handlerBlock,children:\"Block\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handlerUnBlock,children:\"UnBlock\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"danger\",onClick:handlerDelete,children:\"Delete\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"success\",onClick:handlerRefetch,children:\"UpdateUsers\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Table[\"a\" /* default */],{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonGroup[\"a\" /* default */],{size:\"sm\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleChangeAll,children:\"All\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleChangeNo,children:\"No\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Id\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Date\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Last Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Online Offline\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Status Block\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:users.map(function(u,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Checkbox_Checkbox,{name:u.id,checked:checkeds[u.id],onChange:handleChange})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:u.id}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:u.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:u.email}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:conversionDate(u.createdAt)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:conversionDate(u.lastLoginAt)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:u.isOnline===true?'Online':'Offline'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:u.active===true?'Not Blocked':'Blocked'})]},u.id);})})]})]});};\n// CONCATENATED MODULE: ./src/pages/AppLayout.js\nvar AppLayout_AppLayout=function AppLayout(_ref){var _auth$user;var location=_ref.location,authUser=_ref.authUser,refetchUser=_ref.refetch;var _useStore=store_useStore(),_useStore2=Object(slicedToArray[\"a\" /* default */])(_useStore,2),auth=_useStore2[0].auth,dispatch=_useStore2[1];Object(react[\"useEffect\"])(function(){dispatch({type:SET_AUTH_USER,payload:authUser});},[dispatch,authUser]);var _useQuery=Object(useQuery[\"a\" /* useQuery */])(GET_ALL_USERS),data=_useQuery.data,loading=_useQuery.loading,error=_useQuery.error,refetchAllUsers=_useQuery.refetch;var users=data?data===null||data===void 0?void 0:data.allUsers:[];var userId=auth===null||auth===void 0?void 0:(_auth$user=auth.user)===null||_auth$user===void 0?void 0:_auth$user.id;var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOG_OUT),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,2),logout=_useMutation2[0],loadingLogout=_useMutation2[1].loading;var handlerLogOut=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.localStorage.removeItem('token');_context.next=3;return logout({variables:{userId:userId}});case 3:_context.next=5;return refetchUser();case 5:case\"end\":return _context.stop();}}},_callee);}));return function handlerLogOut(){return _ref2.apply(this,arguments);};}();if(!auth.user)return null;if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Container[\"a\" /* default */],{className:\"vh-100\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"danger\",onClick:handlerLogOut,children:\"Log Out\"}),data&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table_TableUsers,{data:users,refetchUser:refetchUser,loadingAllUsers:loading,refetchAllUsers:refetchAllUsers})]});};/* harmony default export */ var pages_AppLayout = (Object(react_router[\"f\" /* withRouter */])(AppLayout_AppLayout));\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useQuery=Object(useQuery[\"a\" /* useQuery */])(GET_AUTH_USER),loading=_useQuery.loading,data=_useQuery.data,error=_useQuery.error,refetch=_useQuery.refetch;if(loading)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:\"Loading...\"});if(error){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:error});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"c\" /* Switch */],{children:data.getAuthUser?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_AppLayout,{authUser:data.getAuthUser,refetch:refetch});}}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_AuthLayout,{refetch:refetch});}})})});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nvar api_url=endpoint;var src_websocketApiUrl=endpoint.replace('http://','ws://');var apolloClient=apollo_client_createApolloClient(api_url,src_websocketApiUrl);Object(react_dom[\"render\"])(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:apolloClient,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(store_StoreProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));\n\n/***/ })\n\n},[[143,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/spav/Documents/Kurs/Assigment-4/client/src/utils/apollo-client.js","/home/spav/Documents/Kurs/Assigment-4/client/src/store/auth.js","/home/spav/Documents/Kurs/Assigment-4/client/src/store/store.js","/home/spav/Documents/Kurs/Assigment-4/client/src/config.js","/home/spav/Documents/Kurs/Assigment-4/client/src/utils/graphql.js","/home/spav/Documents/Kurs/Assigment-4/client/src/hooks/useForm.js","/home/spav/Documents/Kurs/Assigment-4/client/src/pages/Auth/SignUp.js","/home/spav/Documents/Kurs/Assigment-4/client/src/pages/Auth/SignIn.js","/home/spav/Documents/Kurs/Assigment-4/client/src/pages/AuthLayout.js","/home/spav/Documents/Kurs/Assigment-4/client/src/hooks/useCheckbox.js","/home/spav/Documents/Kurs/Assigment-4/client/src/components/Checkbox.js","/home/spav/Documents/Kurs/Assigment-4/client/src/components/Table.js","/home/spav/Documents/Kurs/Assigment-4/client/src/pages/AppLayout.js","/home/spav/Documents/Kurs/Assigment-4/client/src/App.js","/home/spav/Documents/Kurs/Assigment-4/client/src/index.js"],"names":["createAuthLink","request","operation","forward","token","localStorage","getItem","setContext","headers","authorization","ApolloLink","Observable","observer","handle","Promise","resolve","then","oper","subscribe","next","bind","error","complete","catch","unsubscribe","handleErrors","onError","graphQLErrors","networkError","map","message","locations","path","console","log","createApolloClient","apiUrl","websocketApiUrl","cache","InMemoryCache","errorLink","authLink","uploadLink","createUploadLink","uri","authToken","wsLink","WebSocketLink","options","timeout","reconnect","connectionParams","subscriptionClient","maxConnectTimeGenerator","duration","max","terminatingLink","split","query","getMainDefinition","kind","ApolloClient","link","from","SET_AUTH_USER","CLEAR_AUTH_USER","authInitialState","user","authReducer","state","action","type","payload","StoreContext","createContext","store","auth","reducers","StoreProvider","children","useReducer","useStore","useContext","endpoint","GET_ALL_USERS","gql","GET_AUTH_USER","SIGN_IN","SIGN_UP","LOG_OUT","DELETE_USERS","BLOCK_USERS","UNBLOCK_USERS","useForm","initial","useState","inputs","setInputs","initialValue","Object","values","join","useEffect","handleChange","e","target","value","name","parseInt","files","SignUp","history","refetch","setError","email","password","useMutation","signup","loading","handleSubmit","preventDefault","variables","userInput","refetchQueries","response","setItem","data","push","withRouter","SignIn","location","signin","pathname","handleSubmitSignIn","AuthLayout","useCheckbox","checkeds","setChecked","assign","i","id","checked","handler","boolean","change","fromEntries","entries","key","handleChangeAll","handleChangeNo","Checkbox","onChange","conversionDate","date","Date","toString","keyId","keys","filter","TableUsers","refetchUser","refetchAllUsers","users","setUsers","deleteUsers","loadingDelete","errorDelete","blockUsers","loadingBlock","errorBlock","unBlockUsers","loadingUnBlock","errorUnBlock","handlerBlock","blockId","usersIds","handlerUnBlock","unBlockId","handlerDelete","deleteId","handlerRefetch","u","createdAt","lastLoginAt","isOnline","active","AppLayout","authUser","dispatch","useQuery","allUsers","userId","logout","loadingLogout","handlerLogOut","window","removeItem","App","getAuthUser","api_url","replace","apolloClient","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["import { ApolloClient, ApolloLink, Observable, split, InMemoryCache } from '@apollo/client';\nimport { getMainDefinition } from '@apollo/client/utilities';\nimport { onError } from '@apollo/client/link/error';\nimport { WebSocketLink } from '@apollo/client/link/ws';\nimport { createUploadLink } from 'apollo-upload-client';\n\n\nconst createAuthLink = () => {\n  const request = (operation, forward) => {\n    const token = localStorage.getItem('token');\n    operation.setContext({\n      headers: {\n        authorization: token,\n      },\n    });\n  };\n\n  return new ApolloLink(\n    (operation, forward) =>\n      new Observable((observer) => {\n        let handle;\n        Promise.resolve(operation)\n          .then((oper) => request(oper))\n          .then(() => {\n            handle = forward(operation).subscribe({\n              next: observer.next.bind(observer),\n              error: observer.error.bind(observer),\n              complete: observer.complete.bind(observer),\n            });\n          })\n          .catch(observer.error.bind(observer));\n\n        return () => {\n          if (handle) handle.unsubscribe();\n        };\n      })\n  );\n};\n\nconst handleErrors = () => {\n  return onError(({ graphQLErrors, networkError }) => {\n    if (graphQLErrors) {\n      graphQLErrors.map(({ message, locations, path }) =>\n        console.log(`[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`)\n      );\n    }\n\n    if (networkError) {\n      console.log(`[Network error]: ${networkError}`);\n    }\n  });\n};\n\nexport const createApolloClient = (apiUrl, websocketApiUrl) => {\n  const cache = new InMemoryCache();\n\n  const errorLink = handleErrors();\n  const authLink = createAuthLink();\n  const uploadLink = createUploadLink({ uri: apiUrl });\n\n  const authToken = localStorage.getItem('token');\n  const wsLink = new WebSocketLink({\n    uri: websocketApiUrl,\n    options: {\n      timeout: 60000,\n      reconnect: true,\n      connectionParams: {\n        authorization: authToken,\n      },\n    },\n  });\n\n  wsLink.subscriptionClient.maxConnectTimeGenerator.duration = () =>\n    wsLink.subscriptionClient.maxConnectTimeGenerator.max;\n\n  const terminatingLink = split(\n    ({ query }) => {\n      const { kind, operation } = getMainDefinition(query);\n      return kind === 'OperationDefinition' && operation === 'subscription';\n    },\n    wsLink,\n    uploadLink\n  );\n\n  return new ApolloClient({\n    link: ApolloLink.from([errorLink, authLink, terminatingLink]),\n    cache,\n  });\n};","export const SET_AUTH_USER = 'SET_AUTH_USER';\nexport const CLEAR_AUTH_USER = 'CLEAR_AUTH_USER';\n\nexport const authInitialState = {\n  user: null,\n};\n\nexport const authReducer = (state = authInitialState, action) => {\n  switch (action.type) {\n    case SET_AUTH_USER:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    case CLEAR_AUTH_USER: {\n      return {\n        ...state,\n        ...authInitialState,\n      };\n    }\n\n    default:\n      return state;\n  }\n};","import React, { createContext, useContext, useReducer } from 'react';\nimport { authReducer, authInitialState } from './auth';\n\nconst StoreContext = createContext();\n\nconst store = {\n  auth: authInitialState,\n};\n\nconst reducers = (store, action) => ({\n  auth: authReducer(store.auth, action),\n});\n\nexport const StoreProvider = ({ children }) => (\n  <StoreContext.Provider value={useReducer(reducers, store)}>{children}</StoreContext.Provider>\n);\n\nexport const useStore = () => useContext(StoreContext);","export const endpoint = `http://localhost:4000/graphql`;\n","import { gql } from '@apollo/client';\n\n\nexport const GET_ALL_USERS = gql`\nquery { \n  allUsers {\n    id\n    name\n    email\n    password\n    isOnline\n    lastLoginAt\n    createdAt\n    active\n  }\n}\n`;\n\nexport const GET_AUTH_USER = gql`\n  query {\n    getAuthUser {\n      id\n      name\n      email\n      createdAt\n      lastLoginAt\n      isOnline\n      }\n    }\n`;\n\nexport const SIGN_IN = gql`\n    mutation SIGNIN($email: String!,$password: String! ){\n      signin(email:$email, password: $password){\n        token\n      }\n    }\n`;\n\nexport const SIGN_UP = gql`\n    mutation SIGNUP($userInput: UserInputData ){\n      signup(userInput: $userInput){\n        token\n      }\n    }\n`;\n\nexport const LOG_OUT = gql`\n  mutation LOG_OUT($userId: String!){\n    logout(userId: $userId){\n      boolean\n    }\n  }\n`;\n\nexport const DELETE_USERS = gql`\n  mutation DELETE_USERS($usersIds: [ID!]!){\n    deleteUsers(usersIds: $usersIds){\n      count\n    }\n  }\n`;\n\nexport const BLOCK_USERS = gql`\n  mutation BLOCK_USERS($usersIds: [ID!]!){\n    blockUsers(usersIds: $usersIds){\n      count\n    }\n  }\n`;\n\nexport const UNBLOCK_USERS = gql`\n  mutation UNBLOCK_USERS($usersIds: [ID!]!) {\n    unBlockUsers(usersIds: $usersIds){\n      count\n    }\n  }\n  `;\n","import { useEffect, useState } from \"react\";\n\nexport default function useForm(initial = {}) {\n  const [inputs, setInputs] = useState(initial);\n  const initialValue = Object.values(initial).join('');\n  \n  useEffect(() => {\n    setInputs(initial)\n  }, [initialValue])\n\n  function handleChange(e) {\n    let {value, name, type} = e.target\n    if(type === 'number') {\n      value = parseInt(value)\n    }\n    if(type === 'file') {\n      [value] = e.target.files\n    }\n    setInputs({ \n      ...inputs,\n      [name]: value\n    })\n  }\n  \n  \n  return {\n    inputs,\n    handleChange,\n  }\n}","import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { Button,  Form, Row } from 'react-bootstrap'\nimport PropTypes from 'prop-types';\n\nimport { GET_ALL_USERS, SIGN_UP } from '../../utils/graphql';\nimport useForm from '../../hooks/useForm';\n\nconst SignUp = ({ history, refetch }) => {\n    const [error, setError] = useState('');\n    const {inputs, handleChange} = useForm({\n      email: '',\n      name: '',\n      password: ''\n    })\n\n  const [signup, { loading }] = useMutation(SIGN_UP);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await signup({\n        variables:  {\n          userInput: inputs,\n      },    \n      refetchQueries: [{query: GET_ALL_USERS}]\n      });\n      localStorage.setItem('token', response.data.signup.token);\n      await refetch();\n      history.push('/');\n    } catch (error) {\n      setError(error.graphQLErrors[0].message);\n    }\n  };\n\n\n  return (\n    <>\n            <Form onSubmit={handleSubmit}>\n              <Form.Group>\n              <Form.Label>E-Mail</Form.Label>\n                <Form.Control name=\"email\" type=\"text\" value={inputs.email} placeholder=\"email\" onChange={handleChange} />\n              </Form.Group>\n              <Form.Group>\n              <Form.Label>Name</Form.Label>\n                <Form.Control name=\"name\" type=\"text\" value={inputs.name} placeholder=\"name\" onChange={handleChange} />\n              </Form.Group>\n              <Form.Group controlId=\"formBasicPassword\">\n                <Form.Label>Password</Form.Label>\n                <Form.Control type=\"password\" name=\"password\" value={inputs.password} placeholder=\"Пароль\" onChange={handleChange}/>\n              </Form.Group>\n              <Button variant=\"primary\" type=\"submit\">\n                Sign Up\n              </Button>\n            </Form>\n        \n    </>\n  );\n};\n\nSignUp.propTypes = {\n  history: PropTypes.object.isRequired,\n  refetch: PropTypes.func.isRequired,\n};\n\nexport default withRouter(SignUp);","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter, Redirect, Link } from 'react-router-dom';\nimport { useMutation } from '@apollo/client';\nimport { GET_ALL_USERS, SIGN_IN } from '../../utils/graphql';\nimport useForm from '../../hooks/useForm';\nimport { Button, Form} from 'react-bootstrap';\n\n\nconst SignIn = ({ history, location, refetch }) => {\n  const {inputs, handleChange} = useForm({\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [signin, { loading }] = useMutation(SIGN_IN);\n\n\n  useEffect(() => {\n    setError('');\n  }, [location.pathname]);\n\n\n  const handleSubmitSignIn = async (e) => {\n    e.preventDefault();\n\n    try {\n      const response = await signin({\n        variables: {  email, password  },\n        refetchQueries: [{query: GET_ALL_USERS}]\n      });\n      localStorage.setItem('token', response.data.signin.token);\n      await refetch();\n      history.push('/');\n    } catch (error) {\n      setError(error.graphQLErrors[0].message);\n    }\n  };\n\n  const { email, password } = inputs;\n\n  return (\n    \n      <Form onSubmit={handleSubmitSignIn}>\n        <Form.Group>\n        <Form.Label>E-Mail</Form.Label>\n          <Form.Control name=\"email\" type=\"text\" value={email} placeholder=\"email\" onChange={handleChange} />\n        </Form.Group>\n    \n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control type=\"password\" name=\"password\" value={password} placeholder=\"password\" onChange={handleChange}/>\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\">\n          Sign In\n        </Button>\n      </Form>\n   \n  );\n};\n\nSignIn.propTypes = {\n  history: PropTypes.object.isRequired,\n  refetch: PropTypes.func.isRequired,\n};\n\nexport default withRouter(SignIn);","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SignUp from './Auth/SignUp';\nimport SignIn from './Auth/SignIn';\nimport {Row, Container } from 'react-bootstrap';\n\nconst AuthLayout = ({ refetch }) => {\n  return (\n    <>\n    <Container>\n      <Row className=\"justify-content-between gap-10 align-items-center vh-100\">\n        <SignIn refetch={refetch} />\n        <SignUp refetch={refetch}/>\n      </Row>\n    </Container>\n    \n    </>\n  );\n};\n\nAuthLayout.propTypes = {\n  refetch: PropTypes.func.isRequired,\n};\n\nexport default AuthLayout;","import { useEffect, useState } from \"react\";\n\nexport default function useCheckbox(initial = []) {\n\nconst [checkeds, setChecked] = useState({})\n  \n  useEffect(() => {\n    setChecked(() => {\n      return Object.assign({},...initial.map((user, i)=> {\n        return {\n           [user.id]:  false\n          \n        }\n      })\n    )})\n  }, [initial])\n\n  function handleChange(e) {\n    let {name, checked} = e.target;\n    \n    setChecked({\n      ...checkeds,[name]: checked\n    })\n  }\n\n  function handler(boolean){\n    const change = Object.fromEntries(Object.entries(checkeds).map(([key, value]) => [key, boolean]))\n    setChecked(change) \n  }\n  function handleChangeAll(){\n    handler(true)\n  }\n\n  function handleChangeNo(){\n    handler(false)\n  }\n  return {\n    checkeds,\n    handleChange,\n    handleChangeAll,\n    handleChangeNo\n  }\n}\n","export const Checkbox = ({ type = 'checkbox', name, checked = false, onChange }) => {\n  return (<input type={type} name={name} checked={checked} onChange={onChange} /> )\n}","import React, { useEffect, useState } from 'react'\n\nimport { Button, ButtonGroup, Container, Row, Table  } from 'react-bootstrap';\nimport { useMutation } from '@apollo/client';\nimport { BLOCK_USERS, DELETE_USERS, UNBLOCK_USERS } from '../utils/graphql';\nimport useCheckbox from '../hooks/useCheckbox';\nimport { Checkbox } from './Checkbox';\n\nfunction conversionDate(data) {\n  let date = new Date(+data);\n  date = date.toString().split(' ')\n  return `${date[2]} ${date[1]} ${date[3]} ${date[4]}`;\n}\n\nfunction keyId(checkeds){\n  return Object.keys(Object.fromEntries(Object.entries(checkeds).filter(([key,value]) => {\n    return value !== false\n  })));\n}\n\nexport const TableUsers = ({data, refetchUser,refetchAllUsers}) => {\n    const [users, setUsers] = useState([])\n\n    const {checkeds, handleChange, handleChangeAll, handleChangeNo} = useCheckbox(users)\n\n    const[deleteUsers,{ loading: loadingDelete, error: errorDelete}] = useMutation(DELETE_USERS)\n    \n    const[blockUsers,{ loading: loadingBlock, error: errorBlock}] = useMutation(BLOCK_USERS)\n    const[unBlockUsers,{ loading: loadingUnBlock, error: errorUnBlock}] = useMutation(UNBLOCK_USERS)\n    const handlerBlock = async() => {\n      try {\n        const blockId = keyId(checkeds);\n\n        await blockUsers({\n          variables:  {\n            usersIds:blockId,\n        },    \n        })\n        await refetchUser()\n        await refetchAllUsers()\n      }catch(e) {\n        console.log(e);\n      }\n    } \n\n    const handlerUnBlock = async() => {\n      try {\n        const unBlockId = keyId(checkeds);\n        \n        await unBlockUsers({\n          variables:  {\n            usersIds:unBlockId,\n        },    \n        })\n        await refetchUser()\n        await refetchAllUsers()\n      }catch(e) {\n        console.log(e);\n      }\n    }\n\n    const handlerDelete = async () => {\n      try {\n        const deleteId = keyId(checkeds)\n\n        await deleteUsers({\n          variables:  {\n            usersIds:deleteId,\n        },    \n        })\n        await refetchUser()\n        await refetchAllUsers()\n      }catch(e) {\n        console.log(e);\n      }\n    }    \n    \n    const handlerRefetch = async () => {\n      try{\n        await refetchAllUsers()\n        await refetchUser()\n      }catch(e){\n        console.log(e);\n      }\n    }\n    useEffect(async() => {\n        setUsers(data)\n        await refetchAllUsers()\n    }, [data])\n  \n\n    return (\n      <Container>\n      <Row className=\"justify-content-center\">\n        <ButtonGroup>\n          <Button onClick={handlerBlock}>Block</Button>\n          <Button onClick={handlerUnBlock}>UnBlock</Button>\n          <Button variant=\"danger\" onClick={handlerDelete}>Delete</Button>\n          <Button variant=\"success\" onClick={handlerRefetch}>UpdateUsers</Button>\n        </ButtonGroup>\n      </Row>\n      \n        <Table striped bordered hover >\n            <thead>\n              <tr>\n                <th>\n                <ButtonGroup size=\"sm\">\n                  <Button onClick={handleChangeAll}>\n                  All\n                  </Button>\n                  <Button onClick={handleChangeNo}>\n                  No\n                  </Button>\n                </ButtonGroup>\n                \n                </th>\n                <th>Id</th>\n                <th>Name</th>\n                <th>Email</th>\n                <th>Date</th>\n                <th>Last Login</th>\n                <th>Online Offline</th>\n                <th>Status Block</th>\n              </tr>\n            </thead>\n            <tbody>\n            {users.map((u, i)=> {\n            return (\n                <tr key={u.id}>\n                  <td>\n                  <Checkbox name={u.id} checked={checkeds[u.id]} onChange={handleChange} />\n                  </td>\n                  <td>{u.id}</td>\n                  <td>{u.name}</td>\n                  <td>{u.email}</td>\n                  <td>{conversionDate(u.createdAt)}</td>\n                  <td>{conversionDate(u.lastLoginAt)}</td>\n                  <td>{u.isOnline === true ? 'Online' : 'Offline'}</td>\n                  <td>{u.active === true ? 'Not Blocked' : 'Blocked'}</td>\n                </tr>\n            )\n            })\n            }\n        </tbody>\n        </Table>\n        </Container>\n    )\n}\n\n\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, withRouter } from 'react-router-dom';\nimport { useStore } from '../store/store';\nimport { SET_AUTH_USER } from '../store/auth';\nimport { TableUsers } from '../components/Table';\nimport { useMutation, useQuery } from '@apollo/client';\nimport { GET_ALL_USERS, LOG_OUT } from '../utils/graphql';\nimport { Button, Container } from 'react-bootstrap';\n\nconst AppLayout = ({ location, authUser, refetch:refetchUser }) => {\n  const [{ auth }, dispatch] = useStore();\n\n\n  useEffect(() => {\n    dispatch({ type: SET_AUTH_USER, payload: authUser });\n  }, [dispatch, authUser]);\n\n  const {data, loading, error, refetch: refetchAllUsers} = useQuery(GET_ALL_USERS)\n\n  const users = data ? data?.allUsers : [];\n  const userId = auth?.user?.id;\n  const [logout, {loading: loadingLogout}] = useMutation(LOG_OUT)\n\n  const handlerLogOut = async () => {\n    window.localStorage.removeItem('token');\n    await logout({\n      variables: {\n        userId\n      }\n    })\n    await refetchUser()\n  }\n\n  if (!auth.user) return null;\n  if(loading) return (<div>Loading...</div>)\n\n  return (\n    <Container className=\"vh-100\">\n    <Button variant=\"danger\" onClick={handlerLogOut}>Log Out</Button>\n    {data && <TableUsers data={users} refetchUser={refetchUser} loadingAllUsers={loading} refetchAllUsers={refetchAllUsers}/>}\n    </Container>\n  );\n};\n\nAppLayout.propTypes = {\n  location: PropTypes.object.isRequired,\n  authUser: PropTypes.object.isRequired,\n};\n\nexport default withRouter(AppLayout);","import React from 'react';\nimport { useQuery } from '@apollo/client';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport { GET_AUTH_USER } from './utils/graphql';\n\nimport AuthLayout from './pages/AuthLayout';\nimport AppLayout  from './pages/AppLayout';\n\nconst App = () => {\n\n  const { loading, data, error, refetch } = useQuery(GET_AUTH_USER);\n\n  if (loading) return (<div>Loading...</div>);\n  if (error) {\n    return <div>{error}</div>;\n  }\n\n  return (\n    <Router>\n        <Switch>\n          {data.getAuthUser ? (\n            <Route exact render={() => <AppLayout authUser={data.getAuthUser} refetch={refetch} />} />\n          ) : (\n            <Route exact render={() => <AuthLayout refetch={refetch} />} />\n          )}\n        </Switch>\n    </Router>\n  );\n};\n\nexport default App;","import React from 'react';\nimport { render } from 'react-dom';\nimport { ApolloProvider } from '@apollo/client';\nimport { createApolloClient } from './utils/apollo-client';\nimport { StoreProvider } from './store/store';\nimport {endpoint} from './config';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport App from './App';\n\nconst api_url = endpoint;\nconst websocketApiUrl = endpoint.replace('http://', 'ws://');\n\nconst apolloClient = createApolloClient(api_url, websocketApiUrl);\n\nrender(\n  <ApolloProvider client={apolloClient}>\n      <StoreProvider>\n        <App />\n      </StoreProvider>\n  </ApolloProvider>,\n  document.getElementById('root')\n);\n"]}}